
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h1 id="Pfam-API">Pfam API<a class="anchor-link" href="#Pfam-API">&#182;</a></h1><ul>
<li><a href="#Types">Types</a></li>
<li><a href="#Methods">Methods</a></li>
</ul>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[1]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-julia"><pre><span class="k">using</span> <span class="n">MIToS</span><span class="o">.</span><span class="n">Pfam</span>
</pre></div>

</div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[2]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-julia"><pre><span class="o">?</span><span class="n">MIToS</span><span class="o">.</span><span class="n">Pfam</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt output_prompt">Out[2]:</div>

<div class="output_markdown rendered_html output_subarea output_execute_result">
<p>The <code>Pfam</code> module, defines functions to measure the protein contact prediction performance of information measure between column pairs from a Pfam MSA.</p>
<p><strong>Features</strong></p>
<ul>
<li>Read and download Pfam MSAs</li>
<li>Obtain PDB information from alignment annotations</li>
<li>Map between sequence/alignment residues/columns and PDB structures</li>
<li>Measure of AUC (ROC curve) for contact prediction of MI scores</li>
</ul>
<div class="highlight"><pre><span class="k">using</span> <span class="n">MIToS</span><span class="o">.</span><span class="n">Pfam</span>
</pre></div>

</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<div class="panel panel-info">
    <div class="panel-heading">
        <strong>Julia help mode</strong>
    </div>
    <div class="panel-body">
        <p>If you type <code>?</code> at the beginning of the Julia REPL line, you will enter in the Julia help mode. In this mode, Julia prints the help or <strong>documentation</strong> of the entered element. This is a nice way of getting information about MIToS functions, types, etc. from Julia.</p>
    </div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p><a href="#"><i class="fa fa-arrow-up"></i></a></p>
<h2 id="Types">Types<a class="anchor-link" href="#Types">&#182;</a></h2>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[4]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-julia"><pre><span class="o">?</span><span class="n">MIToS</span><span class="o">.</span><span class="n">Pfam</span><span class="o">.</span><span class="n">Stockholm</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt output_prompt">Out[4]:</div>

<div class="output_markdown rendered_html output_subarea output_execute_result">
<p>No documentation found.</p>
<p><strong>Summary:</strong></p>
<div class="highlight"><pre><span class="n">immutable</span> <span class="n">MIToS</span><span class="o">.</span><span class="n">MSA</span><span class="o">.</span><span class="n">Stockholm</span> <span class="o">&lt;:</span> <span class="n">MIToS</span><span class="o">.</span><span class="n">Utils</span><span class="o">.</span><span class="n">Format</span>
</pre></div>

</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p><a href="#"><i class="fa fa-arrow-up"></i></a></p>
<h2 id="Methods">Methods<a class="anchor-link" href="#Methods">&#182;</a></h2>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[5]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-julia"><pre><span class="o">?</span><span class="n">MIToS</span><span class="o">.</span><span class="n">Pfam</span><span class="o">.</span><span class="n">downloadpfam</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt output_prompt">Out[5]:</div>

<div class="output_markdown rendered_html output_subarea output_execute_result">
<p>Download a gzipped stockholm full alignment for the <code>pfamcode</code>. The extension of the downloaded file is <code>.stockholm.gz</code> by default. The <code>filename</code> can be changed, but the <code>.gz</code> at the end is mandatory.</p>

</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[6]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-julia"><pre><span class="o">?</span><span class="n">MIToS</span><span class="o">.</span><span class="n">Pfam</span><span class="o">.</span><span class="n">getseq2pdb</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt output_prompt">Out[6]:</div>

<div class="output_markdown rendered_html output_subarea output_execute_result">
<p>Generates from a Pfam <code>msa</code> a <code>Dict{ASCIIString, Vector{Tuple{ASCIIString,ASCIIString}}}</code>. Keys are sequence IDs and each value is a list of tuples containing PDB code and chain.</p>

<pre><code>julia&gt; getseq2pdb(msa)
Dict{ASCIIString,Array{Tuple{ASCIIString,ASCIIString},1}} with 1 entry:
  "F112_SSV1/3-112" =&gt; [("2VQC","A")]</code></pre>

</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[7]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-julia"><pre><span class="o">?</span><span class="n">MIToS</span><span class="o">.</span><span class="n">Pfam</span><span class="o">.</span><span class="n">msacolumn2pdbresidue</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt output_prompt">Out[7]:</div>

<div class="output_markdown rendered_html output_subarea output_execute_result">
<p><code>msacolumn2pdbresidue(msa, seqid, pdbid, chain, pfamid, siftsfile; strict=false, checkpdbname=false, missings=true)</code></p>
<p>This function returns a <code>Dict{Int64,ASCIIString}</code> with <strong>MSA column numbers on the input file</strong> as keys and PDB residue numbers (<code>""</code> for missings) as values. The mapping is performed using SIFTS. This function needs correct <em>ColMap</em> and <em>SeqMap</em> annotations. This checks correspondence of the residues between the MSA sequence and SIFTS (It throws a warning if there are differences). Missing residues are included if the keyword argument <code>missings</code> is <code>true</code> (default: <code>true</code>). If the keyword argument <code>strict</code> is <code>true</code> (default: <code>false</code>), throws an Error, instead of a Warning, when residues don't match. If the keyword argument <code>checkpdbname</code> is <code>true</code> (default: <code>false</code>), throws an Error if the three letter name of the PDB residue isn't the MSA residue. If you are working with a <strong>downloaded Pfam MSA without modifications</strong>, you should <code>read</code> it using <code>generatemapping=true</code> and <code>useidcoordinates=true</code>. If you don't indicate the path to the <code>siftsfile</code> used in the mapping, this function downloads the SIFTS file in the current folder. If you don't indicate the Pfam accession number (<code>pfamid</code>), this function tries to read the <em>AC</em> file annotation.</p>

</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[8]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-julia"><pre><span class="o">?</span><span class="n">MIToS</span><span class="o">.</span><span class="n">Pfam</span><span class="o">.</span><span class="n">hasresidues</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt output_prompt">Out[8]:</div>

<div class="output_markdown rendered_html output_subarea output_execute_result">
<p>Returns a <code>BitVector</code> where there is a <code>true</code> for each column with PDB residue.</p>

</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[9]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-julia"><pre><span class="o">?</span><span class="n">MIToS</span><span class="o">.</span><span class="n">Pfam</span><span class="o">.</span><span class="n">msacontacts</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt output_prompt">Out[9]:</div>

<div class="output_markdown rendered_html output_subarea output_execute_result">
<p>This function takes an <code>AnnotatedMultipleSequenceAlignment</code> with correct <em>ColMap</em> annotations and two dicts:</p>
<ol>
<li>The first is an <code>OrderedDict{ASCIIString,PDBResidue}</code> from PDB residue number to <code>PDBResidue</code>.</li>
<li>The second is a <code>Dict{Int,ASCIIString}</code> from <strong>MSA column number on the input file</strong> to PDB residue number.</li>
</ol>
<p><code>msacontacts</code> returns a <code>PairwiseListMatrix{Float64,false}</code> of <code>0.0</code> and <code>1.0</code> where <code>1.0</code> indicates a residue contact (inter residue distance less or equal to <code>6.05</code> angstroms between any heavy atom). <code>NaN</code> indicates a missing value.</p>

</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[10]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-julia"><pre><span class="o">?</span><span class="n">MIToS</span><span class="o">.</span><span class="n">Pfam</span><span class="o">.</span><span class="n">msaresidues</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt output_prompt">Out[10]:</div>

<div class="output_markdown rendered_html output_subarea output_execute_result">
<p>This function takes an <code>AnnotatedMultipleSequenceAlignment</code> with correct <em>ColMap</em> annotations and two dicts:</p>
<ol>
<li>The first is an <code>OrderedDict{ASCIIString,PDBResidue}</code> from PDB residue number to <code>PDBResidue</code>.</li>
<li>The second is a <code>Dict{Int,ASCIIString}</code> from MSA column number <strong>on the input file</strong> to PDB residue number.</li>
</ol>
<p><code>msaresidues</code> returns an <code>OrderedDict{Int,PDBResidue}</code> from input column number (ColMap) to <code>PDBResidue</code>. Residues on inserts are not included.</p>

</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[11]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-julia"><pre><span class="o">?</span><span class="n">MIToS</span><span class="o">.</span><span class="n">Pfam</span><span class="o">.</span><span class="n">getcontactmasks</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt output_prompt">Out[11]:</div>

<div class="output_markdown rendered_html output_subarea output_execute_result">
<p>This function takes a <code>msacontacts</code> or its list of contacts <code>contact_list</code> with 1.0 for true contacts and 0.0 for not contacts (NaN or other numbers for missing values). Returns two <code>BitVector</code>s, the first with <code>true</code>s where <code>contact_list</code> is 1.0 and the second with <code>true</code>s where <code>contact_list</code> is 0.0. There are useful for AUC calculations.</p>

</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[12]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-julia"><pre><span class="o">?</span><span class="n">MIToS</span><span class="o">.</span><span class="n">Pfam</span><span class="o">.</span><span class="n">AUC</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt output_prompt">Out[12]:</div>

<div class="output_markdown rendered_html output_subarea output_execute_result">
<p><code>AUC(scores::PairwiseListMatrix, msacontacts::PairwiseListMatrix)</code></p>
<p>Returns the Area Under a ROC (Receiver Operating Characteristic) Curve (AUC) of the <code>scores</code> for <code>msacontact</code> prediction. <code>score</code> and <code>msacontact</code> lists are vinculated (inner join) by their labels (i.e. column number in the file). <code>msacontact</code> should have 1.0 for true contacts and 0.0 for not contacts (NaN or other numbers for missing values).</p>
<p><code>AUC(scores::PairwiseListMatrix, true_contacts::BitVector, false_contacts::BitVector)</code></p>
<p>Returns the Area Under a ROC (Receiver Operating Characteristic) Curve (AUC) of the <code>scores</code> for <code>true_contacts</code> prediction. <code>scores</code>, <code>true_contacts</code> and <code>false_contacts</code> should have the same number of elements and <code>false_contacts</code> should be <code>true</code> where there are not contacts.</p>
<p><code>AUC(scores_list::Vector, true_contacts::BitVector, false_contacts::BitVector)</code></p>
<p>Returns the Area Under a ROC (Receiver Operating Characteristic) Curve (AUC) of the <code>scores_list</code> for <code>true_contacts</code> prediction. The three vectors should have the same length and <code>false_contacts</code> should be <code>true</code> where there are not contacts.</p>

</div>

</div>

</div>
</div>

</div>